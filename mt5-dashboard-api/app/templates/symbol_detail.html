{% extends "base.html" %}

{% block title %}{{ symbol }} - MT5 Dashboard{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/symbols/">Symbols</a></li>
                <li class="breadcrumb-item active">{{ symbol }}</li>
            </ol>
        </nav>
        <h1>{{ symbol }}</h1>
        <p class="text-muted">Detailed performance metrics</p>
    </div>
</div>

<!-- Summary Stats -->
<div class="row">
    <div class="col-md-3">
        <div class="stat-card">
            <div class="stat-label">Total Trades</div>
            <p class="stat-value">{{ stats.total_trades }}</p>
        </div>
    </div>
    <div class="col-md-3">
        <div class="stat-card">
            <div class="stat-label">Total Profit</div>
            <p class="stat-value {% if stats.total_profit >= 0 %}profit-positive{% else %}profit-negative{% endif %}">
                ${{ "%.2f"|format(stats.total_profit) }}
            </p>
        </div>
    </div>
    <div class="col-md-3">
        <div class="stat-card">
            <div class="stat-label">Win Rate</div>
            <p class="stat-value">{{ "%.2f"|format(stats.win_rate) }}%</p>
        </div>
    </div>
    <div class="col-md-3">
        <div class="stat-card">
            <div class="stat-label">Profitable Trades</div>
            <p class="stat-value profit-positive">{{ stats.profitable_trades }}</p>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-3">
        <div class="stat-card">
            <div class="stat-label">Losing Trades</div>
            <p class="stat-value profit-negative">{{ stats.losing_trades }}</p>
        </div>
    </div>
    <div class="col-md-3">
        <div class="stat-card">
            <div class="stat-label">Avg Profit</div>
            <p class="stat-value profit-positive">${{ "%.2f"|format(stats.avg_profit) }}</p>
        </div>
    </div>
    <div class="col-md-3">
        <div class="stat-card">
            <div class="stat-label">Avg Loss</div>
            <p class="stat-value profit-negative">${{ "%.2f"|format(stats.avg_loss) }}</p>
        </div>
    </div>
</div>

<!-- EA Performance -->
{% if ea_performance %}
<div class="row">
    <div class="col-12">
        <h2 class="section-title">Performance by EA</h2>
        <div class="stat-card">
            {{ ea_performance|safe }}
        </div>
    </div>
</div>
{% endif %}

{% endblock %}
